{% extends "base.html" %}
{% block content %}
<script>
  const userId = "{{ userId }}";
  if (userId ) {
    // Store the user-id in localStorage
    localStorage.setItem('user-id', "{{ userId }}" );
  }
  else {
    localStorage.setItem('user-id', null);
  }

  console.log(localStorage.getItem('user-id'));
</script>
<script src="../static/gpt.js"></script>

<div id="chatbot">
  <div id="chatbot-body">
    <div id="chatbot-body-messages"></div>
    <div id="chatbot-body-input">
      <input
              type="text"
              id="question"
              placeholder="Type your question here..."
      />
      <button id="chatbot-body-input-button">
        Send
      </button>
    </div>
  </div>
  <div id="chatbot-response">
    <h2>Chat Response</h2>
    <div id="response"></div>
  </div>
  <div id="chatbot-history">
    <h2>Chat History</h2>
    <button onclick= clear_history()>Clear History</button>
    <div id="history">
      <ul id="history-list"></ul>
    </div>
  </div>
</div>
{% endblock %}